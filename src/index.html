<!DOCTYPE html>
<html>
  <head>
    <!-- Load Google Font -->
    <link href='https://fonts.googleapis.com/css?family=Roboto:100,400,300,400italic,700' rel='stylesheet' type='text/css'>

    <!-- CSS libraries -->
    <!-- <link rel="stylesheet" href="assets/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="assets/css/bootswatch.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <title>Education Exploration</title>
  </head>
  <body>

    <nav>
      <div class="nav navbar navbar-expand-lg navbar-light bg-light" id="nav-tab" role="tablist">
        <a class="navbar-brand" href="#">EduExplore</a>
        <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="false">Home</a>
        <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="true">School Directory</a>
        <a class="nav-item nav-link" id="nav-trends-tab" data-toggle="tab" href="#nav-trends" role="tab" aria-controls="nav-trends" aria-selected="false">Trends</a>
        <a class="nav-item nav-link" id="nav-comparison-tab" data-toggle="tab" href="#nav-comparison" role="tab" aria-controls="nav-comparison" aria-selected="false">School Comparison</a>
        <a class="nav-item nav-link" id="nav-about-tab" data-toggle="tab" href="#nav-about" role="tab" aria-controls="nav-about" aria-selected="false">About</a>
      </div>
    </nav>

    <!-- Modal -->
    <div class="modal fade" id="initial-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Engineering Education Across the United States</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>This visualization was created as a way to visually explore data related to engineering schools
              in the United States. The main visualization is a force cluster chart that shows all the schools
              that we have data on. Using the dropdown menu to select an attribute, you can split the cluster into multiple groups based off the 
              selectedattribute. Use the search bar to highlight a specific school. Hovering over a circle will display the name of the school that
              the circle represents. Clicking on a circle will display that school's profile. Within the school profile you can view how tuition,
              enrollment by level, gender, and ethnicity have changed over time.</p>

            <p>Using the trends tab, one can view how tuition and enrollment by level, gender, and ethnicity have
              changed over time for both public and private universities.</p>

            <p>Using the school comparison tab, one can view how up to three universities differ.</p>

            <p>NOTE: The data was obtained from the American Society For Engineering Education (<a href="http://profiles.asee.org/">ASEE</a>),
              which has profiles on most universities in the United States. The data was self-reported by each school to ASEE. Some schools
              opted to not provide certain information, and others may have provided inaccurate data.</p>
          </div>
          <div class="modal-footer">
              <span id='loading-modal'>Loading data...</span>
              <div class="spinner">
                <div class="rect1"></div>
                <div class="rect2"></div>
                <div class="rect3"></div>
                <div class="rect4"></div>
                <div class="rect5"></div>
              </div>
            <button style='display: none' type="button" class="btn btn-outline-primary" data-dismiss="modal" id='dismiss-modal'>Get started</button>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-content" id="nav-tabContent">

      <!-- home tab -->
      <div class="tab-pane fade active show" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
        <div class='page' id='home'>

          <div class="control_container">
            <div style="display: inline-block;">
              <span><b>Mode: </b></span>
              <div class="btn-group btn-group-toggle" data-toggle="buttons">
                <label class="btn btn-outline-primary btn-sm active">
                  <input type="radio" name="options" id="option1" autocomplete="off" checked=""> Schools
                </label>
                <label class="btn btn-outline-primary btn-sm">
                  <input type="radio" name="options" id="option2" autocomplete="off"> Students
                </label>
              </div>
            </div>

            <div style="display: inline-block;">
              <form>
                <span><b>Cluster by: </b></span>
                <div class='form-group' style="display:inline-block;">
                  <select id="cluster-selection" class='form-control form-control-sm'>
                    <option value='initial'>By school (default)</option>
                    <option value='school'>By public vs private</option>
                    <option value='both'>By gender & ethnicity</option>
                    <option value='gender'>By gender</option>
                    <option value='ethnicity'>By ethnicity</option>
                  </select>
                </div>
              </form>
            </div>

            <form class="form-inline my-2 my-lg-0" id='search_bar'>
              <input class="form-control form-control-sm mr-sm-2" type="text" id="search" placeholder="Search for schools..">
              <button class="btn btn-secondary btn-sm" id="search_btn" type='button' onclick="callSearch()">Search</button>
            </form>
          </div>
          <hr style="margin-top: 0;">

          <svg id='cluster'></svg>
        </div>
      </div>

      <!-- profile tab -->
      <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
        <div class='page' id='profiles'>
          <h5 id='message'>Loading data...</h5>
          <select id="selection" style = "display: none"></select>

          <!-- school page content -->
          <div id='content' style='display: none'>
            <h1 id='name'></h1>
            <h4>Description</h4>
            <p id='description'></p>

            <div id='brush'>
              <h2>Select Year Range</h2>
              <svg id='year_chart'></svg>
            </div>

            <div id='charts'>
              <div>
                <h2>Tuition over time</h2>
                <p id='tuition_line_selection'>Selection: Tuition  </p>
                <svg id='tuition_line'></svg>
              </div>

              <div>
                <h2>Grad vs. Undergrad Enrollment</h2>
                <p id='enroll_area_selection'>Selection:  </p>
                <svg id='enroll_area'></svg>
              </div>

              <div>
                <h2>Enrollment by Gender</h2>
                <p id='Gender_chart_selection'>Selection:  </p>
                <svg id='Gender_chart'></svg>
              </div>

              <div>
                <h2>Enrollment by Ethnicity</h2>
                <p id='Ethnicity_chart_selection'>Selection:  </p>
                <svg id='Ethnicity_chart'></svg>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Trends tab -->
      <div class="tab-pane fade" id="nav-trends" role="tabpanel" aria-labelledby="nav-trend-tab">
        <div class='page' id='trends'>
          <div id='trends_content' style='display: none'>


            <div id='trends_brush'>
              <h2>Select Year Range</h2>
              <svg id='trends_year_chart'></svg>
            </div>

            <div id="trends_tuition">
              <h2>Private vs Public Tuition</h2>
              <p id='trends_tuition_line_selection'> <span style="color: red; ">Average Private School Tuition</span> , <span style="color: blue; ">Average Public School Tuition</span></p>
              <svg id='trends_tuition_line'></svg>
            </div>

            <div id='trends_charts'>


              <div>
                <h2>Private Schools Grad vs. Undergrad Enrollment</h2>
                <p id='private_enroll_selection'>Selection:  </p>
                <svg id='private_enroll'></svg>
              </div>

              <div>
                <h2>Public Schools Grad vs. Undergrad Enrollment</h2>
                <p id='public_enroll_selection'>Selection:  </p>
                <svg id='public_enroll'></svg>
              </div>

              <div>
                <h2>Private Schools Enrollment by Gender</h2>
                <p id='private_gender_selection'>Selection:  </p>
                <svg id='private_gender'></svg>
              </div>

              <div>
                <h2>Public Schools Enrollment by Gender</h2>
                <p id='public_gender_selection'>Selection:  </p>
                <svg id='public_gender'></svg>
              </div>

              <div>
                <h2>Private Schools Enrollment by Ethnicity</h2>
                <p id='private_ethnicity_selection'>Selection:  </p>
                <svg id='private_ethnicity'></svg>
              </div>

              <div>
                <h2>Public Schools Enrollment by Ethnicity</h2>
                <p id='public_ethnicity_selection'>Selection:  </p>
                <svg id='public_ethnicity'></svg>
              </div>

            </div>
            </div>
        </div>
      </div>

      <!-- School Comparison tab -->
      <div class="tab-pane fade" id="nav-comparison" role="tabpanel" aria-labelledby="nav-comparison-tab">

        <div id="outer_school_div">
          <!-- School 1 -->
          <div>
            <input id="school_1"  placeholder="Select a school...">
          </div>
          <button id ="school_1_btn" onclick="compSearch('1')">Confirm</button>

          <div id="school_1_div" class="school_div">

            <h3 id="school_name_1">School Name</h3>
            <br>
            <br>
            <p id="type_1">Type of Institution:</p>
            <p id="tuition_1">Tuition:</p>
              <h3>Enrollment by Level</h3>
              <p id="svg_school_level_1_selection">Selection: </p>
              <svg id='svg_school_level_1'></svg>
              <h3>Enrollment by Gender</h3>
              <p id="svg_school_gen_1_selection">Selection: </p>
              <svg id='svg_school_gen_1'></svg>
              <h3>Enrollment by Ethnicity</h3>
              <p id="svg_school_eth_1_selection">Selection: </p>
              <svg id='svg_school_eth_1'></svg>

          </div>

          <!-- School 2 -->
          <div>
            <input id="school_2"  placeholder="Select a school...">
          </div>
          
          <button id ="school_2_btn" onclick="compSearch('2')">Confirm</button>
          <div id="school_2_div"  class="school_div">


            <h3 id="school_name_2">School Name</h3>
            <br>
            <br>
            <p id="type_2">Type of Institution:</p>
            <p id="tuition_2">Tuition:</p>
              <h3>Enrollment by Level</h3>
              <p id="svg_school_level_2_selection">Selection: </p>
              <svg id='svg_school_level_2'></svg>
              <h3>Enrollment by Gender</h3>
              <p id="svg_school_gen_2_selection">Selection: </p>
              <svg id='svg_school_gen_2'></svg>
              <h3>Enrollment by Ethnicity</h3>
              <p id="svg_school_eth_2_selection">Selection: </p>
              <svg id='svg_school_eth_2'></svg>
          </div>

          </div>

        </div>
      

      <!-- about tab -->
      <div class="tab-pane fade" id="nav-about" role="tabpanel" aria-labelledby="nav-about-tab">
        <h1>About the visualization</h1>
        <div>
          <p>The purpose of visualization is to display aggregate data of Engineering Schools in the United States in a visually interesting and informative way. The visualization 
            reads data obtained from the American Society For Engineering Education (<a href="http://profiles.asee.org/">ASEE</a>), and then displays the data in four visualizations, each represented in its own tab:
            Home, School Directory, Trends, and School Comparison.
          </p>
          <h2>Home</h2>

          <p>As the title would suggest, the Home tab is the starting point of our visualization. The home tab consists of a cluster of circular nodes
            each representative of an Engineering School in the United States. The size of each node is representative of the total enrollment of that university. A legend is present in the upper right corner
            of the visualization as to assist in understanding how the sizing of a node compares to the actual population of the school in question. Above the legend, a search bar is present, which allows for autocomplete searching of 
            the data on file. Upon clicking the search button, the searched school name is highlighted. A select dropdown, found in the top left of the visualization allows for the clustering of the nodes based upon the selected attributes.
            Adjacent buttons labled schools and students allows for the seamless transition between visualizing data pertaining to each school, and data pertaining to the average student body of the schools combined. Upon clicking on a node
            The visualization will transition to the seconday School Directory Visualization.
          </p>

          <h2>School Directory</h2>

          <p>The School Directory tab showcases areacharts and linegraphs for the following categories: Tuition Over Time, Graduate vs. Undergraduate Enrollment, Enrollment by Ethnicity and Enrollment by Gender.
            A year chart allows for focusing in on the data of select years. The graphs update upon selection to reflect the data for the selected years. A description of the school is also present in the profiles. 
            To select a new school, simply return to the home tab and click on the school's corresponding node.
          </p>

          <h2>Trends</h2>

          <p>Similar to the School Directory Tab, the Trends tab consists of the average data of each school based on the same categories in the School Directory graphs. The average data is separated by public vs private schools.
            A year chart allows for the viewing of specific data over a selected interval.
          </p>

          <h2>School Comparison</h2>

          <p>
            The School Comparison tab allows for the selection of two schools to be compared side by side on the following values: Type of Institution, Tuition, Enrollment by Level, Enrollment by Gender, and Enrollment by Race/Ethnicity
            The tables are populated on after searching a specific school's name and the enrollment data is represented specifically by stacked bar charts for each respective category. Hovering over bars will show what data that
            particular bar represents.
          </p>

          <p>NOTE: The data was obtained from the American Society For Engineering Education (<a href="http://profiles.asee.org/">ASEE</a>),
            which has profiles on most universities in the United States. The data was self-reported by each school to ASEE. Some schools
            opted to not provide certain information, and others may have provided inaccurate data. </p>



        </div>
      </div>

    </div>

    <!-- libraries -->
    <script src='assets/js/lib/d3.v4.min.js'></script>
    <script src='assets/js/lib/queue.min.js'></script>
    <script src='assets/js/lib/jquery.min.js'></script>
    <script src='assets/js/lib/popper.min.js'></script>
    <script src='assets/js/lib/bootstrap.min.js'></script>

    <!-- utils -->
    <script src='assets/js/utils/parse.js'></script>
    <script src='assets/js/utils/years.js'></script>

    <!-- plot scripts -->
    <script src='assets/js/histogram.js'></script>
    <script src='assets/js/line.js'></script>
    <script src='assets/js/pie.js'></script>
    <script src='assets/js/stackedbar.js'></script>
    <script src='assets/js/stacked_area.js'></script>
    <script src='assets/js/year_chart.js'></script>
    <script src='assets/js/cluster.js'></script>
    <script src='assets/js/trends.js'></script>

    <!-- main scripts -->
    <script src='assets/js/school_profile.js'></script>
    <script src='assets/js/main.js'></script>
  </body>
</html>